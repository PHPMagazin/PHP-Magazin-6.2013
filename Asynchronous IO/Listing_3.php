$socket = stream_socket_server('tcp://0.0.0.0:' . $argv[1]);stream_set_blocking($socket, 0);$response = array(  "head" => "HTTP/1.0 200 OK\r\nContent-Type: text/html\r\n",  "body" => '<html><head><title>Some title</title></head><body><p>Some content</p></body></html>');$read = new EvIo($socket, Ev::READ, function ($w) use ($socket, $response) {  while ($client = stream_socket_accept($socket)) {    $write = new EvIo($client, Ev::WRITE, function ($w) use ($client, $response) {      $buffer = '';      while ($buffer .= stream_socket_recvfrom($client, 1024)) {        if (false !== strpos($buffer, "\r\n\r\n")) {          break;        }      }      stream_socket_sendto($client, implode("\r\n", $response));      stream_socket_shutdown($client, STREAM_SHUT_RDWR);      $w->stop();    });    Ev::run();    $w->stop();  }});printf("waiting on port %d\n", $argv[1]);Ev::run();